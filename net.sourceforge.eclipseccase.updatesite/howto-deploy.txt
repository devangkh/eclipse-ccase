HowTo Deploy Release and Updatesite
===================================

Requires: Eclipse 3.0 and all projects and features in workspace.

Note: Build has to be done manually because we should test after build if
      it is usable and everything works.

0. ensure same version number for all features and plugins
   (check feature.xml and plugin.xml files). 
   - Make change  project.version in build.xml and
     and in META-INF/MANIFEST.MF file.
   - Make change in, plugin.xml, in eclipseccase ( core ).
   - Make change in, plugin.xml, in eclipseccase ( ui ).
   - Make change in, feature.xml, in eclipseccase ( feature).
   
1. Update CHANGELOG.txt and TODO.txt in eclipseccase project.
   And releasenotes.txt in eclipseccase.feature project.   


2. update version numbers in site.xml ( Use Feature editor).
    
   - New category if the plugin only supports a new version of Eclipse.
   - Add feature in category.
   
2.5 Update feature.xml in net.sourceforge.eclipseccase with manifest editor.
     Plug-ins and Fragments. Update versions. Make a copy.   

3. build each feature as single, deployable zip (Archive file) into 
   "net.sourceforge.eclipseccase.updatesite/full/${feature_id}_${feature_version}.zip"
   (either via File->Export...->Deployable Feature or via feature.xml->Export...)
   
3.5 Use the manifest editor and build (not build all) only current release.    
   
4. build update site
   (right click site.xml->PDE Tools->Build Site)
   
  
   
5. check directories for content:
   "net.sourceforge.eclipseccase.updatesite/full/" 
     -> one zip with features and plugins for each feature
   "net.sourceforge.eclipseccase.updatesite/features/" 
     -> one feature jar for each feature
   "net.sourceforge.eclipseccase.updatesite/plugins/" 
     -> one plugin jar for each plugin
     
6. break: test the build output and update site from within your local 
   machine if it works, only upload/deploy a release that works.
   Help --> Software Updates --> Find and Install --> Search for new Features to Install
   --> New Local Site
   ${workspace}/net.sourceforge.eclipseccase.updatesite
   (it will complain if no site.xml is found).
   
   Make sure it downloads and installs.
   
   

7. create "login.properties" file with user=... and password=... ( name=value) next to site-deploy.xml
   Change in site-deploy.xml to new version.

8. run site-deploy.xml with ant
   (right click "Run Ant..." with target "all")
   Check that the update site contains the new version. ( Use IE instead of Mozilla).
   At the moment the 'deploy-sf-release' target is not working.
   I used IE with the following steps:
   
   1. Open Internet Explorer.
   2. Select 'Open...' from the 'File' menu.
   3. Click the 'Open as Web folder' checkbox.
   4. Enter 'https://frs.sourceforge.net/e/er/eraonel/uploads' into the 'Open:' box, where 'U/US/USERNAME' would be 'j/js/jsmith' if your username was 'jsmith'.
   5. Click on the 'OK' button.
   6. Enter your SourceForge.net username and password when prompted
   
 9. Don't forget to TAG all projects.  
